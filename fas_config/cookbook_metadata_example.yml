name: example_metadata
description: recipe to add dummy exmaple metadata
recipes:
  example:
    class: _metadata
    metadata:
      - file: "example_metadata.json"
    mapping:
      exec:
        service: node
        commands:
          - prog: node
            stdout:
              type: body
            args:
              - "-e"
              - "require('fs').createReadStream(process.argv[1]).pipe(process.stdout)"
              - "%_exec.pluginDir%/fas_config/custom_mapping.json"
    execs:
      - service: node
        commands:
          - prog: node
            args:
              - type: "value"
                value: "%_exec.pluginDir%/server/recipe/meta.js"
              - type: file_in
                file:
                  name: "source.file"
                  url: "%_source.url%"
              - type: file_out
                file:
                  name: "example_metadata.json"
