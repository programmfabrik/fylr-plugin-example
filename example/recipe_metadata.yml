name: example_metadata
description: recipe to add dummy exmaple metadata
class: _metadata
extensions:
  - pdf
targets:
  example:
    metadata:
      - file: "example_metadata.json"
    execs:
      - service: node
        extension: "<nil>"
        commands:
          - prog: node
            args:
              - type: "value"
                value: "server/recipe/meta.js"
              - type: file_in
                file:
                  name: "source.file"
                  url: "%_source.url%"
              - type: file_out
                file:
                  name: "example_metadata.json"
  pdf2text:
    metadata:
      - file: "pdf.txt"
        fulltext: true
    execs:
      - service: metadata
        extension: "<nil>"
        commands:
          - prog: tika
            stdout:
              type: file
              file: "pdf.txt"
            args:
              - --text
              - type: file_in
                file:
                  name: "source.file"
                  url: "%_source.url%"
